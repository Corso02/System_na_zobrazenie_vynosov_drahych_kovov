<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
            <title>Documentation</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <base href="../">
    <link rel="icon" href="images/favicon.ico"/>
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/base.css">
            <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@100;200;300;400;600;700&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@400;600;700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="css/template.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0/css/all.min.css" integrity="sha256-ybRkN9dBjhcS2qrW1z+hfCxq+1aBdwyQM5wlQoQVt/0=" crossorigin="anonymous" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/themes/prism-okaidia.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-numbers/prism-line-numbers.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-highlight/prism-line-highlight.css">
                <script src="https://cdn.jsdelivr.net/npm/fuse.js@3.4.6"></script>
        <script src="https://cdn.jsdelivr.net/npm/css-vars-ponyfill@2"></script>
        <script src="js/template.js"></script>
        <script src="js/search.js"></script>
        <script defer src="js/searchIndex.js"></script>
    </head>
<body id="top">
    <header class="phpdocumentor-header phpdocumentor-section">
    <h1 class="phpdocumentor-title"><a href="" class="phpdocumentor-title__link">Documentation</a></h1>
    <input class="phpdocumentor-header__menu-button" type="checkbox" id="menu-button" name="menu-button" />
    <label class="phpdocumentor-header__menu-icon" for="menu-button">
        <i class="fas fa-bars"></i>
    </label>
    <section data-search-form class="phpdocumentor-search">
    <label>
        <span class="visually-hidden">Search for</span>
        <svg class="phpdocumentor-search__icon" width="21" height="20" viewBox="0 0 21 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="7.5" cy="7.5" r="6.5" stroke="currentColor" stroke-width="2"/>
            <line x1="12.4892" y1="12.2727" x2="19.1559" y2="18.9393" stroke="currentColor" stroke-width="3"/>
        </svg>
        <input type="search" class="phpdocumentor-field phpdocumentor-search__field" placeholder="Loading .." disabled />
    </label>
</section>

    <nav class="phpdocumentor-topnav">
    <ul class="phpdocumentor-topnav__menu">
        </ul>
</nav>
</header>

    <main class="phpdocumentor">
        <div class="phpdocumentor-section">
            <input class="phpdocumentor-sidebar__menu-button" type="checkbox" id="sidebar-button" name="sidebar-button" />
<label class="phpdocumentor-sidebar__menu-icon" for="sidebar-button">
    Menu
</label>
<aside class="phpdocumentor-column -three phpdocumentor-sidebar">
                    <section class="phpdocumentor-sidebar__category -packages">
            <h2 class="phpdocumentor-sidebar__category-header">Packages</h2>
                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="packages/API.html" class="">API</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="packages/API-CalcAPI.html" class="">CalcAPI</a>
                
            </li>
                    <li>
                <a href="packages/API-DateValidation.html" class="">DateValidation</a>
                
            </li>
                    <li>
                <a href="packages/API-GraphDataApi.html" class="">GraphDataApi</a>
                
            </li>
                    <li>
                <a href="packages/API-TableAPI.html" class="">TableAPI</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="packages/Application.html" class="">Application</a>
</h4>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="packages/Database.html" class="">Database</a>
</h4>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="packages/Utils.html" class="">Utils</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="packages/Utils-CLI.html" class="">CLI</a>
                
            </li>
                    <li>
                <a href="packages/Utils-Backend.html" class="">Backend</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="packages/Tables.html" class="">Tables</a>
</h4>

                        </section>
            
    <section class="phpdocumentor-sidebar__category -reports">
        <h2 class="phpdocumentor-sidebar__category-header">Reports</h2>
                <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/deprecated.html">Deprecated</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/errors.html">Errors</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/markers.html">Markers</a></h3>
    </section>

    <section class="phpdocumentor-sidebar__category -indices">
        <h2 class="phpdocumentor-sidebar__category-header">Indices</h2>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="indices/files.html">Files</a></h3>
    </section>
</aside>

            <div class="phpdocumentor-column -nine phpdocumentor-content">
                                <section>
                                        <ul class="phpdocumentor-breadcrumbs">
    </ul>

    <article class="phpdocumentor-element -namespace">
        <h2 class="phpdocumentor-content__title">API Documentation</h2>

        
<h3 id="toc">
    Table of Contents
    <a href="namespaces/default.html#toc" class="headerlink"><i class="fas fa-link"></i></a>

</h3>




    <h4 id="toc-classes">
        Classes
        <a href="namespaces/default.html#toc-classes" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <dl class="phpdocumentor-table-of-contents">
                    <dt class="phpdocumentor-table-of-contents__entry -class"><a href="classes/Database.html"><abbr title="\Database">Database</abbr></a></dt><dd>This class is used for querying SQLite database. Each statement is prepared to counter SQL injection.</dd>            <dt class="phpdocumentor-table-of-contents__entry -class"><a href="classes/Logger.html"><abbr title="\Logger">Logger</abbr></a></dt><dd>Custom logger class. Mainly used in update script.</dd>            <dt class="phpdocumentor-table-of-contents__entry -class"><a href="classes/TablesGenerator.html"><abbr title="\TablesGenerator">TablesGenerator</abbr></a></dt><dd>Class used to create datasets for AP tables.</dd>    </dl>







<h4 id="toc-functions">
    Functions
    <a href="namespaces/default.html#toc-functions" class="headerlink"><i class="fas fa-link"></i></a>

</h4>
<dl class="phpdocumentor-table-of-contents">
            <dt class="phpdocumentor-table-of-contents__entry -function -">
    <a href="namespaces/default.html#function_handle_request">handle_request()</a>
    <span>
                                &nbsp;: mixed    </span>
</dt>
<dd>API endpoint to retrieve values for investment calculator.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -function -">
    <a href="namespaces/default.html#function_get_conversion_rates">get_conversion_rates()</a>
    <span>
                                &nbsp;: mixed    </span>
</dt>

            <dt class="phpdocumentor-table-of-contents__entry -function -">
    <a href="namespaces/default.html#function_get_conversion_rate_on_date">get_conversion_rate_on_date()</a>
    <span>
                                &nbsp;: mixed    </span>
</dt>

            <dt class="phpdocumentor-table-of-contents__entry -function -">
    <a href="namespaces/default.html#function_handle_request">handle_request()</a>
    <span>
                                &nbsp;: mixed    </span>
</dt>
<dd>This API endpoint is used to validate date from user. Only HTTP GET request method is supported, any other request method is denied and 405 status code is sent.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -function -">
    <a href="namespaces/default.html#function_handle_request">handle_request()</a>
    <span>
                                &nbsp;: mixed    </span>
</dt>
<dd>API endpoint to retrieve data for graphs.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -function -">
    <a href="namespaces/default.html#function_handle_request">handle_request()</a>
    <span>
                                &nbsp;: mixed    </span>
</dt>
<dd>API endpoint for AP tables.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -function -">
    <a href="namespaces/default.html#function_run_app">run_app()</a>
    <span>
                                &nbsp;: mixed    </span>
</dt>
<dd>CLI application to parse CSV to db.</dd>

    </dl>

        

            <section class="phpdocumentor-functions">
        <h3 class="phpdocumentor-elements__header" id="functions">
            Functions
            <a href="namespaces/default.html#functions" class="headerlink"><i class="fas fa-link"></i></a>

        </h3>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_handle_request">
        handle_request()
        <a href="namespaces/default.html#function_handle_request" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="API/calcAPI.php"><a href="files/api-calcapi.html"><abbr title="API/calcAPI.php">calcAPI.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">54</span>

    </aside>

        <p class="phpdocumentor-summary">API endpoint to retrieve values for investment calculator.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                    <span class="phpdocumentor-signature__name">handle_request</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span></code>

        <section class="phpdocumentor-description"><p>Only HTTP GET request method is supported, any other request method is denied with 405 status code being sent. Firstly values for given comodity are calculated, then when argument &quot;compare&quot; is given
values for other comodities are calculated. This function will retrieve all data that are needed for calculation from database. Also there is conversion from troy ounces to stocks and vice-versa.</p>
<p><strong>Valid request format:</strong></p>
<p><strong>comodity:</strong> base comodity to calculate values for</p>
<p><strong>currency:</strong> in which currency should the values be calculated</p>
<p><strong>date:</strong> date when base comodity was bought</p>
<p><strong>unit:</strong> in what unit was the comodity bought</p>
<p><strong>count:</strong> number of stocks/troy ounces/grams were bought</p>
<p><strong>compare:</strong> true | false - indicates if values for other comodities should be calculated</p>
<p><strong>Returned JSON:</strong></p>
<p>returned JSON includes all calculations, to access calculations of base comodity you should use &quot;com_base&quot; key, for every other comodity you should use &quot;com_&lt;id&gt;&quot; key, where id starts on 0</p>
<p><strong>Object containing calculations:</strong></p>
<p>each sub-object in returned JSON has these keys:</p>
<p><strong>name:</strong> - name of comodity</p>
<p><strong>initial_price:</strong> - initial price on supplied date (from GET request)</p>
<p><strong>current_price:</strong> - most recent price that could be found</p>
<p><strong>current_price_date:</strong> - date of most recent price (d.m.Y format)</p>
<p><strong>initial_investment_value:</strong> - initial value of investment ( count * initial_price )</p>
<p><strong>current_investment_value:</strong> - current value of investment ( count * current_price )</p>
<p><strong>percent_change:</strong> - percent change between initial investement value and current investment value</p>
<p><strong>comodity_count:</strong> - count of bought comodity</p>
<p><strong>calculated:</strong> - true | false - indicates whether calculation for given comodity was successful</p>
<p><strong>comodity_unit:</strong> - unit for given comodity in which were calculations made</p>
</section>

    
    

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_get_conversion_rates">
        get_conversion_rates()
        <a href="namespaces/default.html#function_get_conversion_rates" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="API/check_update.php"><a href="files/api-check-update.html"><abbr title="API/check_update.php">check_update.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">56</span>

    </aside>

    
    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                    <span class="phpdocumentor-signature__name">get_conversion_rates</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">mixed&nbsp;</span><span class="phpdocumentor-signature__argument__name">$toCurrencyId</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">mixed&nbsp;</span><span class="phpdocumentor-signature__argument__name">$db</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">mixed&nbsp;</span><span class="phpdocumentor-signature__argument__name">$env</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">mixed&nbsp;</span><span class="phpdocumentor-signature__argument__name">$logger</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span></code>

    
        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$toCurrencyId</span>
                : <span class="phpdocumentor-signature__argument__return-type">mixed</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                
            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$db</span>
                : <span class="phpdocumentor-signature__argument__return-type">mixed</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                
            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$env</span>
                : <span class="phpdocumentor-signature__argument__return-type">mixed</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                
            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$logger</span>
                : <span class="phpdocumentor-signature__argument__return-type">mixed</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                
            </dd>
            </dl>

    

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_get_conversion_rate_on_date">
        get_conversion_rate_on_date()
        <a href="namespaces/default.html#function_get_conversion_rate_on_date" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="API/check_update.php"><a href="files/api-check-update.html"><abbr title="API/check_update.php">check_update.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">126</span>

    </aside>

    
    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                    <span class="phpdocumentor-signature__name">get_conversion_rate_on_date</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">mixed&nbsp;</span><span class="phpdocumentor-signature__argument__name">$rates</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">mixed&nbsp;</span><span class="phpdocumentor-signature__argument__name">$date</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span></code>

    
        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$rates</span>
                : <span class="phpdocumentor-signature__argument__return-type">mixed</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                
            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$date</span>
                : <span class="phpdocumentor-signature__argument__return-type">mixed</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                
            </dd>
            </dl>

    

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_handle_request">
        handle_request()
        <a href="namespaces/default.html#function_handle_request" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="API/get_price_by_date.php"><a href="files/api-get-price-by-date.html"><abbr title="API/get_price_by_date.php">get_price_by_date.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">28</span>

    </aside>

        <p class="phpdocumentor-summary">This API endpoint is used to validate date from user. Only HTTP GET request method is supported, any other request method is denied and 405 status code is sent.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                    <span class="phpdocumentor-signature__name">handle_request</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span></code>

        <section class="phpdocumentor-description"><p>Function <a href="classes/Database.html#method_get_price_by_date_and_currency"><abbr title="\Database::get_price_by_date_and_currency()">Database::get_price_by_date_and_currency()</abbr></a> is used to check whether given date is valid for given comodity in given currency. If its not, then
<a href="classes/Database.html#method_get_nearest_price_date"><abbr title="\Database::get_nearest_price_date()">Database::get_nearest_price_date()</abbr></a> is called to find nearest valid date. Response is sent in JSON format.</p>
<p><strong>Valid request must include:</strong></p>
<p><strong>date:</strong> MM-DD-YYYY format</p>
<p><strong>comodity:</strong> name of comodity</p>
<p><strong>currency:</strong> number of the currency</p>
<p><strong>Response format:</strong></p>
<p><strong>success:</strong> boolean - indicates whether supplied date is valid</p>
<p><strong>nearestDateFound:</strong> boolean - is present only when success is false and represents if nearest date was found</p>
<p><strong>nearestDate:</strong> Date - present only when nearestDateFound is true</p>
</section>

    
    

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_handle_request">
        handle_request()
        <a href="namespaces/default.html#function_handle_request" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="API/GraphDataAPI.php"><a href="files/api-graphdataapi.html"><abbr title="API/GraphDataAPI.php">GraphDataAPI.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">22</span>

    </aside>

        <p class="phpdocumentor-summary">API endpoint to retrieve data for graphs.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                    <span class="phpdocumentor-signature__name">handle_request</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span></code>

        <section class="phpdocumentor-description"><p>Only HTTP GET request method is supported, any other request method is denied with 405 status code being sent. If invalid GET request is sent, than status code 400 is sent.
To get data for graph get_price_for_graph function from GraphDataGenerators is used. To retrieve data from database function <a href="classes/Database.html#method_get_price_for_graph"><abbr title="\Database::get_price_for_graph()">Database::get_price_for_graph()</abbr></a> is used. Response is in JSON format.</p>
<p><strong>Valid request format:</strong></p>
<p><strong>graph_type:</strong> &quot;price_graph&quot; (only supported option right now)</p>
<p><strong>comodity:</strong> name of comodity</p>
<p><strong>currency:</strong> number of the currency</p>
<p><strong>start_date:</strong> date in MM-DD-YYYY format</p>
<p><strong>end_date:</strong> date in MM-DD-YYYY format</p>
</section>

    
    

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_handle_request">
        handle_request()
        <a href="namespaces/default.html#function_handle_request" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="API/TableAPI.php"><a href="files/api-tableapi.html"><abbr title="API/TableAPI.php">TableAPI.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">34</span>

    </aside>

        <p class="phpdocumentor-summary">API endpoint for AP tables.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                    <span class="phpdocumentor-signature__name">handle_request</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span></code>

        <section class="phpdocumentor-description"><p>This endpoint is used to retrieve data for AP table from database. Only HTTP GET method is supported. Any other request method is denied and 405 status code is sent to client.
If GET request is invalid status code 400 is sent. To retrieve this data calculated data for table function <a href="classes/TablesGenerator.html#method_get_calculation_for_AP_table"><abbr title="\TablesGenerator::get_calculation_for_AP_table()">TablesGenerator::get_calculation_for_AP_table()</abbr></a> is used.
Response is sent in JSON format.</p>
<p><strong>Valid request must include:</strong></p>
<p><strong>table_type:</strong> AP</p>
<p><strong>from_year:</strong> start year for table</p>
<p><strong>to_year:</strong> end year for table</p>
<p><strong>sell_date:</strong> MM-DD-YYYY format</p>
<p><strong>currency:</strong> number representing currency</p>
<p><strong>buy_margin:</strong> number</p>
<p><strong>sell_margin:</strong> number</p>
<p><strong>comodity:</strong> name of comodity</p>
<p><strong>type:</strong> &quot;day&quot; | &quot;first&quot; | &quot;last&quot;</p>
<p><strong>day_num:</strong> only if type === &quot;day&quot;</p>
</section>

    
    

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_run_app">
        run_app()
        <a href="namespaces/default.html#function_run_app" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="from_csv_to_db.php"><a href="files/from-csv-to-db.html">from_csv_to_db.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">14</span>

    </aside>

        <p class="phpdocumentor-summary">CLI application to parse CSV to db.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                    <span class="phpdocumentor-signature__name">run_app</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span></code>

        <section class="phpdocumentor-description"><p>Run this application with -h to print manual of this CLI app.
Expected format in CSV should be <strong>( date;price )</strong>
This CLI app <strong>could be extended to support another argument to set currency</strong>. Right now its set on line ~75 as $currencyId.</p>
</section>

    
    

    
</article>
            </section>

        <div class="phpdocumentor-modal" id="source-view">
    <div class="phpdocumentor-modal-bg" data-exit-button></div>
    <div class="phpdocumentor-modal-container">
        <div class="phpdocumentor-modal-content">
            <pre style="max-height: 500px; overflow-y: scroll" data-src="" class="language-php line-numbers linkable-line-numbers"></pre>
        </div>
        <button data-exit-button class="phpdocumentor-modal__close">&times;</button>
    </div>
</div>

    <script type="text/javascript">
        (function () {
            function loadExternalCodeSnippet(el, url, line) {
                Array.prototype.slice.call(el.querySelectorAll('pre[data-src]')).forEach((pre) => {
                    const src = url || pre.getAttribute('data-src').replace(/\\/g, '/');
                    const language = 'php';

                    const code = document.createElement('code');
                    code.className = 'language-' + language;
                    pre.textContent = '';
                    pre.setAttribute('data-line', line)
                    code.textContent = 'Loading…';
                    pre.appendChild(code);

                    var xhr = new XMLHttpRequest();

                    xhr.open('GET', src, true);

                    xhr.onreadystatechange = function () {
                        if (xhr.readyState !== 4) {
                            return;
                        }

                        if (xhr.status < 400 && xhr.responseText) {
                            code.textContent = xhr.responseText;
                            Prism.highlightElement(code);
                            return;
                        }

                        if (xhr.status === 404) {
                            code.textContent = '✖ Error: File could not be found';
                            return;
                        }

                        if (xhr.status >= 400) {
                            code.textContent = '✖ Error ' + xhr.status + ' while fetching file: ' + xhr.statusText;
                            return;
                        }

                        code.textContent = '✖ Error: An unknown error occurred';
                    };

                    xhr.send(null);
                });
            }

            const modalButtons = document.querySelectorAll("[data-modal]");
            const openedAsLocalFile = window.location.protocol === 'file:';
            if (modalButtons.length > 0 && openedAsLocalFile) {
                console.warn(
                    'Viewing the source code is unavailable because you are opening this page from the file:// scheme; ' +
                    'browsers block XHR requests when a page is opened this way'
                );
            }

            modalButtons.forEach(function (trigger) {
                if (openedAsLocalFile) {
                    trigger.setAttribute("hidden", "hidden");
                }

                trigger.addEventListener("click", function (event) {
                    event.preventDefault();
                    const modal = document.getElementById(trigger.dataset.modal);
                    if (!modal) {
                        console.error(`Modal with id "${trigger.dataset.modal}" could not be found`);
                        return;
                    }
                    modal.classList.add("phpdocumentor-modal__open");

                    loadExternalCodeSnippet(modal, trigger.dataset.src || null, trigger.dataset.line)
                    const exits = modal.querySelectorAll("[data-exit-button]");
                    exits.forEach(function (exit) {
                        exit.addEventListener("click", function (event) {
                            event.preventDefault();
                            modal.classList.remove("phpdocumentor-modal__open");
                        });
                    });
                });
            });
        })();
    </script>

    </article>
                                </section>
                <section class="phpdocumentor-on-this-page__sidebar">
                            
    <section class="phpdocumentor-on-this-page__content">
        <strong class="phpdocumentor-on-this-page__title">On this page</strong>

        <ul class="phpdocumentor-list -clean">
            <li class="phpdocumentor-on-this-page-section__title">Table Of Contents</li>
            <li>
                <ul class="phpdocumentor-list -clean">
                                                                                                    <li><a href="namespaces/default.html#toc-classes">Classes</a></li>
                                                                                                                        <li><a href="namespaces/default.html#toc-functions">Functions</a></li>
                                    </ul>
            </li>

            
                            <li class="phpdocumentor-on-this-page-section__title">Functions</li>
                <li>
                    <ul class="phpdocumentor-list -clean">
                                                    <li><a href="namespaces/default.html#function_get_conversion_rate_on_date">get_conversion_rate_on_date()</a></li>
                                                    <li><a href="namespaces/default.html#function_get_conversion_rates">get_conversion_rates()</a></li>
                                                    <li><a href="namespaces/default.html#function_handle_request">handle_request()</a></li>
                                                    <li><a href="namespaces/default.html#function_handle_request">handle_request()</a></li>
                                                    <li><a href="namespaces/default.html#function_handle_request">handle_request()</a></li>
                                                    <li><a href="namespaces/default.html#function_handle_request">handle_request()</a></li>
                                                    <li><a href="namespaces/default.html#function_run_app">run_app()</a></li>
                                            </ul>
                </li>
                    </ul>
    </section>

                </section>
                            </div>
            <section data-search-results class="phpdocumentor-search-results phpdocumentor-search-results--hidden">
    <section class="phpdocumentor-search-results__dialog">
        <header class="phpdocumentor-search-results__header">
            <h2 class="phpdocumentor-search-results__title">Search results</h2>
            <button class="phpdocumentor-search-results__close"><i class="fas fa-times"></i></button>
        </header>
        <section class="phpdocumentor-search-results__body">
            <ul class="phpdocumentor-search-results__entries"></ul>
        </section>
    </section>
</section>
        </div>
        <a href="namespaces/default.html#top" class="phpdocumentor-back-to-top"><i class="fas fa-chevron-circle-up"></i></a>

    </main>

    <script>
        cssVars({});
    </script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/prism.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-highlight/prism-line-highlight.min.js"></script>
</body>
</html>
